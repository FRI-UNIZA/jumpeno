@inherits LayoutComponentBase
@using Blazored.Toast.Configuration
@using JumpenoWebassembly.Client.ExceptionHandling

<div class="main">

    <BlazoredToasts Position="ToastPosition.TopRight"
                Timeout="5"
                IconType="IconType.FontAwesome"
                SuccessClass="success-toast-override"
                SuccessIcon="fa fa-thumbs-up"
                ErrorIcon="fa fa-bug" />

    <Navbar/>

    <div class="content px-4">
        <CustomErrorBoundary>
            <ChildContent>
                @Body
            </ChildContent>
            <ErrorContent Context="Exception">
                <div class="alert alert-primary">
                        <h3>@Exception.GetType()</h3>
                        <h3>@Exception.Message</h3
                        <h3>@Exception.StackTrace</h3>
                        <button class="btn btn-info" @onclick="() => errorBoundary.Clear()">Clear</button>
                </div>
            </ErrorContent>
        </CustomErrorBoundary>
    </div>

</div>


@code{
    private CustomErrorBoundary errorBoundary;
    protected override void OnInitialized()
    {
        errorBoundary = new CustomErrorBoundary();
    }
}
